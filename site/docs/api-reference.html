<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <meta property="og:image" content="https://webpeel.dev/og-image.png">
  <meta name="twitter:image" content="https://webpeel.dev/og-image.png">
  <link rel="icon" href="/favicon.ico" sizes="32x32">
  <link rel="icon" href="/favicon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <title>API Reference — WebPeel</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Instrument+Serif:ital@0;1&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
  <link rel="stylesheet" href="../styles/docs.css">
</head>
<body>
  <nav class="docs-nav">
    <div class="container nav-inner">
      <a href="/" class="nav-logo">
        <svg viewBox="0 0 32 32"><rect width="32" height="32" fill="#8B5CF6" rx="7"/><path d="M6 3h14l7 7v18a3 3 0 01-3 3H6a3 3 0 01-3-3V6a3 3 0 013-3z" fill="#FFF" fill-opacity=".95"/><path d="M20 3v5a2 2 0 002 2h5" fill="#DDD6FE"/><path d="M8 16h10" stroke="#8B5CF6" stroke-width="2.5" stroke-linecap="round"/><path d="M8 21h14" stroke="#A78BFA" stroke-width="2.5" stroke-linecap="round"/></svg>
        WebPeel
      </a>
      <div class="nav-links">
        <a href="/">Home</a>
        <a href="/docs/" class="active">Docs</a>
        <a href="/playground">Playground</a>
        <a href="/changelog">Changelog</a>
        <a href="https://github.com/webpeel/webpeel">GitHub</a>
      </div>
    </div>
  </nav>

  <div class="docs-layout">
    <aside class="sidebar">
      <div class="sidebar-section">
        <div class="sidebar-title">Getting Started</div>
        <a href="/docs/" class="sidebar-link">Overview</a>
        <a href="/docs/api-reference.html" class="sidebar-link active">API Reference</a>
      </div>
      
      <div class="sidebar-section">
        <div class="sidebar-title">SDKs</div>
        <a href="/docs/sdks.html" class="sidebar-link">Node.js & Python</a>
        <a href="/docs/cli.html" class="sidebar-link">CLI</a>
        <a href="/docs/mcp.html" class="sidebar-link">MCP Server</a>
      </div>
      
      <div class="sidebar-section">
        <div class="sidebar-title">Deployment</div>
        <a href="/docs/self-hosting.html" class="sidebar-link">Self-Hosting</a>
      </div>
      
      <div class="sidebar-section">
        <div class="sidebar-title">Endpoints</div>
        <a href="#fetch" class="sidebar-link">Fetch</a>
        <a href="#search" class="sidebar-link">Search</a>
        <a href="#answer" class="sidebar-link">Answer</a>
        <a href="#crawl" class="sidebar-link">Crawl</a>
        <a href="#batch" class="sidebar-link">Batch</a>
        <a href="#agent" class="sidebar-link">Agent</a>
        <a href="#mcp" class="sidebar-link">MCP</a>
      </div>
    </aside>

    <main class="docs-content">
      <div class="breadcrumbs">
        <a href="/docs/">Documentation</a>
        <span>/</span>
        <span>API Reference</span>
      </div>

      <h1>API Reference</h1>
      <p class="lead">Complete REST API documentation for WebPeel. All endpoints return JSON responses.</p>

      <div class="callout callout-info">
        <div class="callout-title">Base URL</div>
        Production: <code>https://api.webpeel.dev</code><br>
        Self-hosted: <code>http://localhost:3000</code> (configurable)
      </div>

      <h2>Authentication</h2>
      <p>Pass your API key in the <code>Authorization</code> header:</p>
      
      <pre><code class="language-bash">curl https://api.webpeel.dev/v1/fetch?url=https://example.com \
  -H "Authorization: Bearer YOUR_API_KEY"</code></pre>

      <p>Free tier: No API key required (125 fetches/week, HTTP-only)</p>

      <h2 id="fetch">GET /v1/fetch</h2>
      <p>Fetch and extract content from a URL. Automatically escalates from HTTP to browser to stealth mode as needed.</p>

      <div class="api-endpoint">
        <span class="api-method api-method-get">GET</span>
        <span class="api-path">/v1/fetch</span>
      </div>

      <h3>Query Parameters</h3>
      <table class="param-table">
        <thead>
          <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code class="param-name">url</code> <span class="param-required">required</span></td>
            <td><span class="param-type">string</span></td>
            <td>URL to fetch (max 2048 characters)</td>
          </tr>
          <tr>
            <td><code class="param-name">format</code></td>
            <td><span class="param-type">string</span></td>
            <td>Output format: <code>markdown</code> (default), <code>text</code>, <code>html</code></td>
          </tr>
          <tr>
            <td><code class="param-name">render</code></td>
            <td><span class="param-type">boolean</span></td>
            <td>Force browser rendering (for JS-heavy sites)</td>
          </tr>
          <tr>
            <td><code class="param-name">stealth</code></td>
            <td><span class="param-type">boolean</span></td>
            <td>Use stealth mode to bypass bot detection (auto-enables <code>render</code>)</td>
          </tr>
          <tr>
            <td><code class="param-name">wait</code></td>
            <td><span class="param-type">number</span></td>
            <td>Wait time in milliseconds after page load (0-60000)</td>
          </tr>
          <tr>
            <td><code class="param-name">selector</code></td>
            <td><span class="param-type">string</span></td>
            <td>CSS selector to extract specific content (e.g., <code>article</code>, <code>.content</code>)</td>
          </tr>
          <tr>
            <td><code class="param-name">exclude</code></td>
            <td><span class="param-type">string[]</span></td>
            <td>CSS selectors to exclude (comma-separated: <code>.sidebar,.ads</code>)</td>
          </tr>
          <tr>
            <td><code class="param-name">includeTags</code></td>
            <td><span class="param-type">string</span></td>
            <td>Only include these tags (comma-separated: <code>article,main</code>)</td>
          </tr>
          <tr>
            <td><code class="param-name">excludeTags</code></td>
            <td><span class="param-type">string</span></td>
            <td>Remove these tags (comma-separated: <code>nav,footer</code>)</td>
          </tr>
          <tr>
            <td><code class="param-name">onlyMainContent</code></td>
            <td><span class="param-type">boolean</span></td>
            <td>Shortcut for <code>includeTags=main,article</code></td>
          </tr>
          <tr>
            <td><code class="param-name">screenshot</code></td>
            <td><span class="param-type">boolean</span></td>
            <td>Capture a screenshot (returns base64 PNG)</td>
          </tr>
          <tr>
            <td><code class="param-name">images</code></td>
            <td><span class="param-type">boolean</span></td>
            <td>Extract image URLs from the page</td>
          </tr>
          <tr>
            <td><code class="param-name">maxTokens</code></td>
            <td><span class="param-type">number</span></td>
            <td>Maximum token count for output (truncate if exceeded)</td>
          </tr>
          <tr>
            <td><code class="param-name">location</code></td>
            <td><span class="param-type">string</span></td>
            <td>ISO country code for geo-targeting (e.g., <code>US</code>, <code>DE</code>)</td>
          </tr>
          <tr>
            <td><code class="param-name">languages</code></td>
            <td><span class="param-type">string</span></td>
            <td>Language preferences (comma-separated: <code>en,de</code>)</td>
          </tr>
          <tr>
            <td><code class="param-name">maxAge</code></td>
            <td><span class="param-type">number</span></td>
            <td>Cache max age in milliseconds (default: 172800000 = 2 days)</td>
          </tr>
        </tbody>
      </table>

      <h3>Response</h3>
      <pre><code class="language-json">{
  "url": "https://example.com",
  "title": "Example Domain",
  "content": "# Example Domain\n\nThis domain is for use...",
  "metadata": {
    "description": "Example Domain",
    "author": null,
    "published": null,
    "image": null,
    "canonical": "https://example.com"
  },
  "links": [
    "https://www.iana.org/domains/example"
  ],
  "tokens": 125,
  "method": "simple",
  "elapsed": 118,
  "contentType": "html",
  "quality": 0.95,
  "fingerprint": "a1b2c3d4e5f6g7h8"
}</code></pre>

      <h3>Example Requests</h3>

      <div class="tabs">
        <button class="tab-btn active" data-tab="curl1">cURL</button>
        <button class="tab-btn" data-tab="js1">JavaScript</button>
        <button class="tab-btn" data-tab="py1">Python</button>
      </div>

      <div class="tab-content active" data-content="curl1">
        <pre><code class="language-bash"># Basic fetch
curl "https://api.webpeel.dev/v1/fetch?url=https://example.com"

# With browser rendering
curl "https://api.webpeel.dev/v1/fetch?url=https://example.com&render=true"

# Extract only article content
curl "https://api.webpeel.dev/v1/fetch?url=https://example.com&selector=article&exclude=.sidebar,.ads"</code></pre>
      </div>

      <div class="tab-content" data-content="js1">
        <pre><code class="language-javascript">const response = await fetch(
  'https://api.webpeel.dev/v1/fetch?url=https://example.com',
  {
    headers: {
      'Authorization': 'Bearer YOUR_API_KEY'
    }
  }
);
const data = await response.json();
console.log(data.content);</code></pre>
      </div>

      <div class="tab-content" data-content="py1">
        <pre><code class="language-python">import urllib.request
import json

url = 'https://api.webpeel.dev/v1/fetch?url=https://example.com'
req = urllib.request.Request(url)
req.add_header('Authorization', 'Bearer YOUR_API_KEY')

with urllib.request.urlopen(req) as response:
    data = json.loads(response.read())
    print(data['content'])</code></pre>
      </div>

      <h2 id="search">GET /v1/search</h2>
      <p>Search the web using DuckDuckGo (default, free) or Brave Search (BYOK for higher-quality results).</p>
      <p>For Brave, pass your key via <code>searchApiKey</code> or the <code>x-search-api-key</code> header.</p>

      <div class="api-endpoint">
        <span class="api-method api-method-get">GET</span>
        <span class="api-path">/v1/search</span>
      </div>

      <h3>Query Parameters</h3>
      <table class="param-table">
        <thead>
          <tr>
            <th>Parameter</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code class="param-name">q</code> <span class="param-required">required</span></td>
            <td><span class="param-type">string</span></td>
            <td>Search query (max 500 characters)</td>
          </tr>
          <tr>
            <td><code class="param-name">provider</code></td>
            <td><span class="param-type">string</span></td>
            <td>Search provider: <code>duckduckgo</code> (default) or <code>brave</code></td>
          </tr>
          <tr>
            <td><code class="param-name">searchApiKey</code></td>
            <td><span class="param-type">string</span></td>
            <td>Brave Search API key (alternative to <code>x-search-api-key</code> header)</td>
          </tr>
          <tr>
            <td><code class="param-name">count</code></td>
            <td><span class="param-type">number</span></td>
            <td>Number of results (1-10, default: 5)</td>
          </tr>
          <tr>
            <td><code class="param-name">scrapeResults</code></td>
            <td><span class="param-type">boolean</span></td>
            <td>Scrape each result URL (returns full content)</td>
          </tr>
          <tr>
            <td><code class="param-name">sources</code></td>
            <td><span class="param-type">string</span></td>
            <td>Comma-separated sources: <code>web,news,images</code></td>
          </tr>
          <tr>
            <td><code class="param-name">categories</code></td>
            <td><span class="param-type">string</span></td>
            <td>Filter by category: <code>github,pdf,docs,blog,news</code></td>
          </tr>
          <tr>
            <td><code class="param-name">tbs</code></td>
            <td><span class="param-type">string</span></td>
            <td>Time-based filter: <code>qdr:d</code> (day), <code>qdr:w</code> (week), <code>qdr:m</code> (month)</td>
          </tr>
          <tr>
            <td><code class="param-name">country</code></td>
            <td><span class="param-type">string</span></td>
            <td>Country code for regional results (e.g., <code>us-en</code>, <code>de-de</code>)</td>
          </tr>
        </tbody>
      </table>

      <h3>Response</h3>
      <pre><code class="language-json">{
  "success": true,
  "data": {
    "web": [
      {
        "title": "Example Domain",
        "url": "https://example.com",
        "snippet": "This domain is for use in illustrative examples...",
        "content": "..." // Only if scrapeResults=true
      }
    ]
  }
}</code></pre>

      <h2 id="answer">POST /v1/answer</h2>
      <p>Ask a question, search the web, fetch top sources, and generate an LLM answer with citations (<code>[1]</code>, <code>[2]</code>). BYOK — you provide your own LLM key.</p>

      <div class="api-endpoint">
        <span class="api-method api-method-post">POST</span>
        <span class="api-path">/v1/answer</span>
      </div>

      <h3>Request Body</h3>
      <table class="param-table">
        <thead>
          <tr>
            <th>Field</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code class="param-name">question</code> <span class="param-required">required</span></td>
            <td><span class="param-type">string</span></td>
            <td>The question to answer</td>
          </tr>
          <tr>
            <td><code class="param-name">llmProvider</code> <span class="param-required">required</span></td>
            <td><span class="param-type">string</span></td>
            <td>LLM provider: <code>openai</code>, <code>anthropic</code>, or <code>google</code></td>
          </tr>
          <tr>
            <td><code class="param-name">llmApiKey</code> <span class="param-required">required</span></td>
            <td><span class="param-type">string</span></td>
            <td>LLM API key (BYOK)</td>
          </tr>
          <tr>
            <td><code class="param-name">llmModel</code></td>
            <td><span class="param-type">string</span></td>
            <td>Optional model name (uses provider default if omitted)</td>
          </tr>
          <tr>
            <td><code class="param-name">searchProvider</code></td>
            <td><span class="param-type">string</span></td>
            <td>Search provider: <code>duckduckgo</code> (default) or <code>brave</code></td>
          </tr>
          <tr>
            <td><code class="param-name">searchApiKey</code></td>
            <td><span class="param-type">string</span></td>
            <td>Brave Search API key (optional; can also be sent via <code>x-search-api-key</code>)</td>
          </tr>
          <tr>
            <td><code class="param-name">maxSources</code></td>
            <td><span class="param-type">number</span></td>
            <td>Max sources to fetch (default: 5)</td>
          </tr>
          <tr>
            <td><code class="param-name">stream</code></td>
            <td><span class="param-type">boolean</span></td>
            <td>When <code>true</code>, stream via SSE (<code>text/event-stream</code>)</td>
          </tr>
        </tbody>
      </table>

      <h3>Example</h3>
      <pre><code class="language-bash">curl -X POST https://api.webpeel.dev/v1/answer \
  -H "Content-Type: application/json" \
  -d '{
    "question": "What is MCP and why does it matter for AI agents?",
    "llmProvider": "openai",
    "llmApiKey": "sk-...",
    "searchProvider": "duckduckgo",
    "maxSources": 5,
    "stream": false
  }'</code></pre>

      <h3>Response</h3>
      <pre><code class="language-json">{
  "answer": "MCP (Model Context Protocol) is ... [1] ... [2] ...",
  "citations": [
    {
      "title": "Model Context Protocol (MCP)",
      "url": "https://example.com/mcp",
      "snippet": "..."
    }
  ],
  "searchProvider": "duckduckgo",
  "llmProvider": "openai",
  "llmModel": "gpt-4.1-mini",
  "tokensUsed": { "input": 1234, "output": 456 }
}</code></pre>

      <h3>Streaming (SSE)</h3>
      <p>When <code>stream=true</code>, the endpoint streams events like:</p>
      <pre><code class="language-json">{"type":"chunk","text":"..."}
{"type":"chunk","text":"..."}
{"type":"done","citations":[{"title":"...","url":"..."}]}</code></pre>

      <h2 id="crawl">POST /v1/crawl</h2>
      <p>Start an async crawl job. Returns a job ID that can be polled for results.</p>

      <div class="api-endpoint">
        <span class="api-method api-method-post">POST</span>
        <span class="api-path">/v1/crawl</span>
      </div>

      <h3>Request Body</h3>
      <table class="param-table">
        <thead>
          <tr>
            <th>Field</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code class="param-name">url</code> <span class="param-required">required</span></td>
            <td><span class="param-type">string</span></td>
            <td>Starting URL to crawl from</td>
          </tr>
          <tr>
            <td><code class="param-name">limit</code></td>
            <td><span class="param-type">number</span></td>
            <td>Maximum pages to crawl (default: 10, max: 100)</td>
          </tr>
          <tr>
            <td><code class="param-name">maxDepth</code></td>
            <td><span class="param-type">number</span></td>
            <td>Maximum crawl depth (default: 2, max: 5)</td>
          </tr>
          <tr>
            <td><code class="param-name">includePaths</code></td>
            <td><span class="param-type">string[]</span></td>
            <td>Only crawl URLs matching these patterns</td>
          </tr>
          <tr>
            <td><code class="param-name">excludePaths</code></td>
            <td><span class="param-type">string[]</span></td>
            <td>Exclude URLs matching these patterns</td>
          </tr>
          <tr>
            <td><code class="param-name">webhook</code></td>
            <td><span class="param-type">object</span></td>
            <td>Webhook URL and events for notifications</td>
          </tr>
        </tbody>
      </table>

      <h3>Response</h3>
      <pre><code class="language-json">{
  "success": true,
  "id": "crawl_abc123xyz789",
  "url": "/v1/crawl/crawl_abc123xyz789"
}</code></pre>

      <h3>Example</h3>
      <pre><code class="language-bash">curl -X POST https://api.webpeel.dev/v1/crawl \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -d '{
    "url": "https://example.com",
    "limit": 50,
    "maxDepth": 3,
    "excludePaths": ["/admin", "/login"]
  }'</code></pre>

      <h2>GET /v1/crawl/:id</h2>
      <p>Check status and retrieve results of a crawl job.</p>

      <div class="api-endpoint">
        <span class="api-method api-method-get">GET</span>
        <span class="api-path">/v1/crawl/:id</span>
      </div>

      <h3>Response</h3>
      <pre><code class="language-json">{
  "success": true,
  "status": "completed",
  "progress": 1.0,
  "total": 50,
  "completed": 50,
  "creditsUsed": 50,
  "data": [
    {
      "url": "https://example.com",
      "title": "Home",
      "markdown": "# Home\n...",
      "links": [...],
      "depth": 0
    }
  ]
}</code></pre>

      <h2 id="batch">POST /v1/batch/scrape</h2>
      <p>Batch scrape multiple URLs with concurrency control.</p>

      <div class="api-endpoint">
        <span class="api-method api-method-post">POST</span>
        <span class="api-path">/v1/batch/scrape</span>
      </div>

      <h3>Request Body</h3>
      <table class="param-table">
        <thead>
          <tr>
            <th>Field</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code class="param-name">urls</code> <span class="param-required">required</span></td>
            <td><span class="param-type">string[]</span></td>
            <td>Array of URLs to scrape (max 100)</td>
          </tr>
          <tr>
            <td><code class="param-name">formats</code></td>
            <td><span class="param-type">string[]</span></td>
            <td>Output formats (default: <code>["markdown"]</code>)</td>
          </tr>
          <tr>
            <td><code class="param-name">maxTokens</code></td>
            <td><span class="param-type">number</span></td>
            <td>Max tokens per result</td>
          </tr>
          <tr>
            <td><code class="param-name">webhook</code></td>
            <td><span class="param-type">string</span></td>
            <td>Webhook URL for progress notifications</td>
          </tr>
        </tbody>
      </table>

      <h3>Response</h3>
      <pre><code class="language-json">{
  "success": true,
  "id": "batch_xyz789abc123",
  "url": "/v1/batch/scrape/batch_xyz789abc123"
}</code></pre>

      <h2>GET /v1/batch/scrape/:id</h2>
      <p>Get batch job status and results.</p>

      <div class="api-endpoint">
        <span class="api-method api-method-get">GET</span>
        <span class="api-path">/v1/batch/scrape/:id</span>
      </div>

      <h2 id="agent">POST /v1/agent</h2>
      <p>Run an autonomous agent for web research with AI-powered planning.</p>

      <div class="api-endpoint">
        <span class="api-method api-method-post">POST</span>
        <span class="api-path">/v1/agent</span>
      </div>

      <h3>Request Body</h3>
      <table class="param-table">
        <thead>
          <tr>
            <th>Field</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code class="param-name">prompt</code> <span class="param-required">required</span></td>
            <td><span class="param-type">string</span></td>
            <td>Natural language task description</td>
          </tr>
          <tr>
            <td><code class="param-name">urls</code></td>
            <td><span class="param-type">string[]</span></td>
            <td>Optional starting URLs (agent will search if not provided)</td>
          </tr>
          <tr>
            <td><code class="param-name">llmApiKey</code> <span class="param-required">required</span></td>
            <td><span class="param-type">string</span></td>
            <td>OpenAI-compatible API key (BYOK)</td>
          </tr>
          <tr>
            <td><code class="param-name">llmModel</code></td>
            <td><span class="param-type">string</span></td>
            <td>Model to use (default: <code>gpt-4o-mini</code>)</td>
          </tr>
          <tr>
            <td><code class="param-name">schema</code></td>
            <td><span class="param-type">object</span></td>
            <td>JSON schema for structured output (legacy — prefer <code>outputSchema</code>)</td>
          </tr>
          <tr>
            <td><code class="param-name">outputSchema</code></td>
            <td><span class="param-type">object</span></td>
            <td>JSON Schema for structured output (validated)</td>
          </tr>
          <tr>
            <td><code class="param-name">depth</code></td>
            <td><span class="param-type">string</span></td>
            <td>Research depth: <code>basic</code> (default) or <code>thorough</code></td>
          </tr>
          <tr>
            <td><code class="param-name">topic</code></td>
            <td><span class="param-type">string</span></td>
            <td>Topic hint: <code>general</code>, <code>news</code>, <code>technical</code>, <code>academic</code></td>
          </tr>
          <tr>
            <td><code class="param-name">maxSources</code></td>
            <td><span class="param-type">number</span></td>
            <td>Max sources to fetch and analyze (1-20, default: 5)</td>
          </tr>
          <tr>
            <td><code class="param-name">stream</code></td>
            <td><span class="param-type">boolean</span></td>
            <td>When <code>true</code>, stream progress + chunks via SSE</td>
          </tr>
          <tr>
            <td><code class="param-name">maxIterations</code></td>
            <td><span class="param-type">number</span></td>
            <td>Max research steps (default: 10)</td>
          </tr>
        </tbody>
      </table>

      <h3>Example</h3>
      <pre><code class="language-bash">curl -X POST https://api.webpeel.dev/v1/agent \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -d '{
    "prompt": "Find the top 5 AI coding assistants and compare their features",
    "llmApiKey": "sk-...",
    "schema": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": { "type": "string" },
          "features": { "type": "array" },
          "pricing": { "type": "string" }
        }
      }
    }
  }'</code></pre>

      <h2 id="mcp">POST /mcp</h2>
      <p>Hosted MCP endpoint (Streamable HTTP transport). Connect any MCP client with a single URL — no local server required.</p>

      <div class="api-endpoint">
        <span class="api-method api-method-post">POST</span>
        <span class="api-path">/mcp</span>
      </div>

      <p>Endpoint URL: <code>https://api.webpeel.dev/mcp</code></p>
      <p>Authentication: <code>Authorization: Bearer &lt;api_key&gt;</code></p>
      <p>Supported tools: <code>webpeel_fetch</code>, <code>webpeel_search</code>, <code>webpeel_crawl</code>, <code>webpeel_map</code>, <code>webpeel_extract</code>, <code>webpeel_batch</code>, <code>webpeel_agent</code></p>

      <h3>Client Setup</h3>
      <pre><code class="language-json">{
  "url": "https://api.webpeel.dev/mcp",
  "headers": {
    "Authorization": "Bearer &lt;key&gt;"
  }
}</code></pre>

      <p><strong>Stateless:</strong> no session management required — each request is authenticated and handled independently.</p>

      <h2>Rate Limits</h2>
      <table>
        <thead>
          <tr>
            <th>Tier</th>
            <th>Weekly Quota</th>
            <th>Burst Limit</th>
            <th>Features</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Free</td>
            <td>125/week</td>
            <td>25/hour</td>
            <td>All features included</td>
          </tr>
          <tr>
            <td>Pro ($9/mo)</td>
            <td>1,250/week</td>
            <td>100/hour</td>
            <td>All features + extra usage</td>
          </tr>
          <tr>
            <td>Max ($29/mo)</td>
            <td>6,250/week</td>
            <td>500/hour</td>
            <td>All features + extra usage</td>
          </tr>
        </tbody>
      </table>

      <h2>Error Responses</h2>
      <p>All errors follow the same format:</p>
      
      <pre><code class="language-json">{
  "error": "error_code",
  "message": "Human-readable error message"
}</code></pre>

      <table>
        <thead>
          <tr>
            <th>Status Code</th>
            <th>Error Code</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>400</td>
            <td><code>invalid_request</code></td>
            <td>Missing or invalid parameters</td>
          </tr>
          <tr>
            <td>400</td>
            <td><code>invalid_url</code></td>
            <td>Malformed URL</td>
          </tr>
          <tr>
            <td>401</td>
            <td><code>unauthorized</code></td>
            <td>Missing or invalid API key</td>
          </tr>
          <tr>
            <td>429</td>
            <td><code>rate_limit_exceeded</code></td>
            <td>Too many requests</td>
          </tr>
          <tr>
            <td>500</td>
            <td><code>internal_error</code></td>
            <td>Server error</td>
          </tr>
          <tr>
            <td>500</td>
            <td><code>TIMEOUT</code></td>
            <td>Request timeout</td>
          </tr>
          <tr>
            <td>500</td>
            <td><code>BLOCKED</code></td>
            <td>Site blocked the request (try stealth mode)</td>
          </tr>
        </tbody>
      </table>
    </main>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-json.min.js"></script>
  <script src="../scripts/docs.js"></script>
</body>
</html>
