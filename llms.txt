# WebPeel

> The web data API for AI agents. Fetch, search, crawl, extract, and research — one tool, zero config.

WebPeel is an open-source web fetcher that converts any URL to clean, AI-ready markdown. Smart escalation tries fast HTTP first (~150ms), auto-escalates to headless browser when needed, and uses stealth mode for heavily protected sites.

## Quick Start

```bash
# CLI
npx webpeel https://example.com

# With browser rendering (JS-heavy sites)
npx webpeel https://example.com --render

# Search the web
npx webpeel search "latest AI news"

# Crawl a site
npx webpeel crawl https://example.com --max-pages 20

# Screenshot
npx webpeel screenshot https://example.com --full-page

# AI-powered answer with citations
npx webpeel answer "What is WebPeel?" --llm openai

# Research agent
npx webpeel agent "Compare React vs Vue in 2025" --llm-key $OPENAI_API_KEY

# Library
import { peel } from 'webpeel';
const result = await peel('https://example.com');

# MCP Server (Claude Desktop / Cursor / VS Code / Windsurf / Cline)
npx webpeel mcp
```

## API Endpoints

Base URL: `https://api.webpeel.dev`

- `GET /v1/fetch?url=URL` — Fetch a URL as markdown/text/HTML
- `POST /v1/fetch` — Fetch with actions, extraction, advanced options
- `GET /v1/search?q=QUERY` — Web search (DuckDuckGo free, Brave BYOK)
- `POST /v1/crawl` — Crawl a website (async job with webhook)
- `POST /v1/map` — Discover all URLs on a domain
- `POST /v1/screenshot` — Screenshot a URL (PNG/JPEG, full-page)
- `POST /v1/answer` — Search + fetch + LLM answer with citations (BYOK)
- `POST /v1/agent` — Autonomous research agent (BYOK)
- `POST /v1/batch` — Fetch multiple URLs in parallel
- `POST /v2/scrape` — Firecrawl-compatible endpoint (drop-in replacement)
- `GET /health` — API health check

Authentication: `Authorization: Bearer YOUR_API_KEY` or anonymous (500 free fetches/week, no signup required).

## MCP Tools

- `webpeel_fetch` — Fetch a URL, return clean markdown. Params: url (required), render (boolean), wait (ms), format (markdown|text|html), actions (JSON array)
- `webpeel_search` — Search the web. Params: query (required), count (1-10), provider (duckduckgo|brave)
- `webpeel_crawl` — Crawl a website. Params: url (required), maxPages (number), maxDepth (number)
- `webpeel_map` — Discover URLs on a domain. Params: url (required), maxUrls (number)
- `webpeel_extract` — Extract structured data. Params: url (required), schema (JSON Schema), prompt (string)
- `webpeel_batch` — Fetch multiple URLs. Params: urls (array), concurrency (number)
- `webpeel_agent` — Research agent. Params: prompt (required), urls (array), maxPages (number)

## MCP Configuration

Works with: Claude Desktop, Cursor, VS Code (Cline), Windsurf, Continue.dev, OpenClaw, and any MCP client.

```json
{
  "mcpServers": {
    "webpeel": {
      "command": "npx",
      "args": ["-y", "webpeel", "mcp"]
    }
  }
}
```

Hosted MCP (no local install): `https://api.webpeel.dev/mcp`

## Key Features

- **Smart escalation**: HTTP (~150ms) → Playwright browser (~2s) → Stealth mode (~5s) — only escalates when needed
- **Page actions**: Click, type, scroll, wait, press, select, hover before scraping
- **Screenshot API**: Full-page or viewport, PNG/JPEG, custom dimensions
- **PDF & DOCX parsing**: Feed a document URL, get clean markdown
- **Structured extraction**: Pass a JSON Schema + your LLM key (BYOK), get structured data
- **Branding extraction**: Extract colors, fonts, logos, and brand assets
- **Change tracking**: Monitor content changes over time with fingerprint diffing
- **Crawl & map**: Full site crawling with depth control, async jobs, webhooks
- **Web search**: DuckDuckGo (free, no key) or Brave Search (BYOK)
- **Answer endpoint**: Search + fetch + LLM-generated answer with citations
- **Research agent**: Autonomous multi-page research with streaming
- **Firecrawl-compatible**: Drop-in replacement — change one URL, your code works
- **Anti-bot bypass**: Cloudflare, DataDome, JavaScript walls, 403s
- **Token-optimized**: Strips navigation, ads, scripts, cookie banners
- **SSRF protection**: Blocks private IPs, IPv6 mapped addresses, redirect attacks
- **Open source**: AGPL-3.0 licensed, fully self-hostable

## Pricing

- **Free**: 500 fetches/week, 50/hr burst — no credit card required
- **Pro**: $9/mo — 1,250/week, 100/hr burst
- **Max**: $29/mo — 6,250/week, 500/hr burst
- All features on all plans (no feature-gating)
- Extra usage: Basic $0.002, Stealth $0.01, Search $0.001 per credit

## SDKs & Integrations

- **CLI**: `npm install -g webpeel`
- **Python SDK**: `pip install webpeel` (zero deps)
- **TypeScript/Node.js**: `npm install webpeel`
- **LangChain**: WebPeelLoader integration
- **LlamaIndex**: WebPeelReader integration

## Links

- Website: https://webpeel.dev
- API Docs: https://webpeel.dev/docs/api-reference
- GitHub: https://github.com/webpeel/webpeel
- npm: https://www.npmjs.com/package/webpeel
- Status: https://webpeel.dev/status
- Changelog: https://webpeel.dev/changelog
